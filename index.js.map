{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nexport const searchImages = text => {\n  const options = {\n    method: 'get',\n  };\n  const params = new URLSearchParams({\n    key: '48321806-d480a24496502db5d22ba5dda',\n    image_type: 'photo',\n    orientation: 'hotizontal',\n    safesearch: true,\n    q: text,\n  });\n  return fetch(`https://pixabay.com/api/?${params.toString()}`, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.show({\n        color: '#ffafb4',\n        message: error.message,\n      });\n    });\n};\n","import SimpleLightbox from 'simplelightbox';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction createGalleryItem(item) {\n  return `<li><a class=\"gallery-link\" href=\"${item.largeImageURL}\"><img class=\"gallery-image\" src=\"${item.previewURL}\" alt=\"${item.tags}\"/></a></li>`;\n}\n\nexport function renderGallery(gallery, images) {\n  if (images.length == 0) {\n    throw new Error(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n  }\n  const galleryItems = images\n    .map(item => {\n      return createGalleryItem(item);\n    })\n    .join('');\n  gallery.innerHTML = galleryItems;\n  lightbox.refresh();\n}\n","import { searchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\n\nconst searchInut = document.querySelector('#search');\nconst gallery = document.querySelector('.gallery');\n\nfunction createLoader() {\n  return '<div class=\"loader\"></div>';\n}\n\ndocument.querySelector('.submit').addEventListener('click', event => {\n  event.preventDefault();\n  gallery.innerHTML = createLoader();\n  const result = searchImages(searchInut.value);\n  result\n    .then(data => {\n      setTimeout(() => {\n        renderGallery(gallery, data.hits);\n      }, 300);\n    })\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: error.message });\n    });\n});\n"],"names":["searchImages","text","options","params","response","error","iziToast","lightbox","SimpleLightbox","createGalleryItem","item","renderGallery","gallery","images","galleryItems","searchInut","createLoader","event","data"],"mappings":"6vBAEO,MAAMA,EAAeC,GAAQ,CAClC,MAAMC,EAAU,CACd,OAAQ,KACZ,EACQC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGF,CACP,CAAG,EACD,OAAO,MAAM,4BAA4BE,EAAO,SAAU,CAAA,GAAID,CAAO,EAClE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,KAAK,CACZ,MAAO,UACP,QAASD,EAAM,OACvB,CAAO,CACP,CAAK,CACL,ECxBME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAkBC,EAAM,CAC/B,MAAO,qCAAqCA,EAAK,aAAa,qCAAqCA,EAAK,UAAU,UAAUA,EAAK,IAAI,cACvI,CAEO,SAASC,EAAcC,EAASC,EAAQ,CAC7C,GAAIA,EAAO,QAAU,EACnB,MAAM,IAAI,MACR,0EACN,EAEE,MAAMC,EAAeD,EAClB,IAAIH,GACID,EAAkBC,CAAI,CAC9B,EACA,KAAK,EAAE,EACVE,EAAQ,UAAYE,EACpBP,EAAS,QAAO,CAClB,CCpBA,MAAMQ,EAAa,SAAS,cAAc,SAAS,EAC7CH,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASI,GAAe,CACtB,MAAO,4BACT,CAEA,SAAS,cAAc,SAAS,EAAE,iBAAiB,QAASC,GAAS,CACnEA,EAAM,eAAc,EACpBL,EAAQ,UAAYI,IACLhB,EAAae,EAAW,KAAK,EAEzC,KAAKG,GAAQ,CACZ,WAAW,IAAM,CACfP,EAAcC,EAASM,EAAK,IAAI,CACjC,EAAE,GAAG,CACZ,CAAK,EACA,MAAMb,GAAS,CACdC,EAAS,MAAM,CAAE,MAAO,QAAS,QAASD,EAAM,OAAO,CAAE,CAC/D,CAAK,CACL,CAAC"}